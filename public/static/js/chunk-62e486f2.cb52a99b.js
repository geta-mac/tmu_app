(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62e486f2"],{"78b3":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[o("el-form-item",{attrs:{label:t.$t("post.title")}},[o("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("post.content")}},[o("el-input",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),o("el-form-item",[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"#","on-preview":t.handlePreview,"on-remove":t.handleRemove,"auto-upload":!1}},[o("i",{staticClass:"el-icon-upload"}),t._v(" "),o("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),o("em",[t._v("click to upload")])]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("jpg/png files with a size less than 500kb")])])],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.process))]),t._v(" "),o("el-button",{on:{click:t.handleCancel}},[t._v("Cancel")])],1)],1)},l=[],i={props:{form:{type:Object,default:function(){return{title:"",content:""}}},process:{type:String,default:function(){return""}}},data:function(){return{fileList:[]}},methods:{onSubmit:function(){this.form.title&&(this.$store.dispatch("post/createPost",this.form),this.$router.push({path:"/post/index"}))},handleSubmit:function(){this.$emit("handleSubmit",this.$refs.upload.uploadFiles)},handleCancel:function(){this.$emit("handleCancel")},handleRemove:function(t,e){this.fileList=e},handlePreview:function(t){console.log(t)}}},a=i,s=o("2877"),r=Object(s["a"])(a,n,l,!1,null,null,null);e["a"]=r.exports},"8f57":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form"},[o("el-row",[o("h1",[t._v("新規登録")])]),t._v(" "),o("PostForm",{attrs:{form:t.form,process:t.process},on:{handleSubmit:t.handleSubmit,handleCancel:t.handleCancel}})],1)},l=[],i=o("78b3"),a={components:{PostForm:i["a"]},data:function(){return{form:{title:"",content:""},process:"Create"}},methods:{handleSubmit:function(t){if(this.form.title){var e=new FormData;e.append("image",t[0].raw),e.append("title",this.form.title),e.append("content",this.form.content),this.$store.dispatch("post/createPost",e),this.$router.push({path:"/post/index"})}},handleCancel:function(){this.$router.push({path:"/post/index"})}}},s=a,r=o("2877"),c=Object(r["a"])(s,n,l,!1,null,null,null);e["default"]=c.exports}}]);